<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BGMI Stat Extractor â€” Kill Â· Rank Â· Fragger</title>
  <meta name="description"
    content="Free BGMI OCR tool. Drop all screenshots, auto-detects lobby vs result, extracts slot/rank/kills. No API needed." />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link
    href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
</head>

<body>

  <!-- HEADER -->
  <header>
    <div class="logo">
      <span class="logo-icon">ğŸ®</span>
      <div>
        <div class="logo-title">BGMI Stat Extractor</div>
        <div class="logo-sub">Kill Â· Rank Â· Fragger â€” Free Â· No AI API Â· GitHub Pages</div>
      </div>
    </div>
    <div class="session-stamp" id="sessionStamp">--/--- Â· --:-- --</div>
  </header>

  <main>

    <!-- â”€â”€ UPLOAD ZONE â”€â”€ -->
    <section class="card" id="uploadCard">
      <div class="card-title">ğŸ“‚ Upload Screenshots â€” Lobby &amp; Result Together</div>
      <div class="card-sub">Drop all images at once Â· Click to browse Â· or <kbd>Ctrl+V</kbd> to paste from clipboard
      </div>

      <div class="drop-zone" id="dropZone">
        <div class="drop-inner" id="dropInner">
          <div class="drop-emoji">ğŸ“·</div>
          <div class="drop-label">Drop ALL screenshots here</div>
          <div class="drop-hint">Lobby + Result images mixed â€” app identifies which is which automatically</div>
          <button class="btn-secondary" id="browseBtn" type="button">Browse Files</button>
          <input type="file" id="fileInput" accept="image/*" multiple />
        </div>
        <div class="paste-hint">ğŸ–¼ï¸ <kbd>Ctrl+V</kbd> â€” paste screenshots directly from clipboard</div>
      </div>

      <div class="preview-area" id="previewArea"></div>
      <div class="file-counter" id="fileCounter"></div>

      <button class="btn-process" id="processBtn" disabled>
        âš¡ Extract Data
      </button>
    </section>

    <!-- â”€â”€ PROGRESS â”€â”€ -->
    <section class="card" id="progressCard" style="display:none">
      <div class="progress-label" id="progressLabel">Startingâ€¦</div>
      <div class="progress-track">
        <div class="progress-fill" id="progressFill"></div>
      </div>
      <div class="progress-sub" id="progressSub">0%</div>
      <!-- classification results -->
      <div class="classify-row" id="classifyRow" style="display:none">
        <div class="classify-badge lobby-badge">ğŸŸï¸ <span id="lobbyCount">0</span> Lobby</div>
        <div class="classify-badge result-badge">ğŸ† <span id="resultCount">0</span> Result</div>
      </div>
    </section>

    <!-- â”€â”€ RAW OCR EDITOR â”€â”€ -->
    <section class="card" id="rawCard" style="display:none">
      <details>
        <summary>ğŸ” Raw OCR Text â€” edit &amp; Re-Parse if names look wrong</summary>
        <div class="raw-grid">
          <div>
            <div class="raw-label">ğŸŸï¸ Lobby OCR Text</div>
            <textarea id="lobbyRaw" class="raw-ta" rows="10"></textarea>
          </div>
          <div>
            <div class="raw-label">ğŸ† Result OCR Text</div>
            <textarea id="resultRaw" class="raw-ta" rows="10"></textarea>
          </div>
        </div>
        <button class="btn-secondary" id="reparseBtn">â™»ï¸ Re-Parse Edited Text</button>
      </details>
    </section>

    <!-- â”€â”€ OUTPUT â”€â”€ -->
    <section class="card" id="outputCard" style="display:none">
      <div class="card-title">ğŸ“Š Output â€” Copy Each Column</div>
      <div class="output-stamp" id="outputStamp"></div>

      <div class="blocks-wrap">

        <div class="block">
          <div class="block-head">
            <span>ğŸ“‹ Slot Numbers</span>
            <button class="btn-copy" data-target="b1">Copy</button>
          </div>
          <textarea class="block-ta" id="b1" readonly></textarea>
        </div>

        <div class="block">
          <div class="block-head">
            <span>ğŸ“‹ Ranks</span>
            <button class="btn-copy" data-target="b2">Copy</button>
          </div>
          <textarea class="block-ta" id="b2" readonly></textarea>
        </div>

        <div class="block">
          <div class="block-head">
            <span>ğŸ“‹ Team Total Kills</span>
            <button class="btn-copy" data-target="b3">Copy</button>
          </div>
          <textarea class="block-ta" id="b3" readonly></textarea>
        </div>

        <div class="block block-wide">
          <div class="block-head">
            <span>ğŸ“‹ Player Names <small>(6 rows/slot)</small></span>
            <button class="btn-copy" data-target="b4">Copy</button>
          </div>
          <textarea class="block-ta block-ta-tall" id="b4" readonly></textarea>
        </div>

        <div class="block block-wide">
          <div class="block-head">
            <span>ğŸ“‹ Individual Kills <small>(6 rows/slot)</small></span>
            <button class="btn-copy" data-target="b5">Copy</button>
          </div>
          <textarea class="block-ta block-ta-tall" id="b5" readonly></textarea>
        </div>

      </div>

      <div class="summary" id="summary"></div>
      <button class="btn-secondary" id="resetBtn">ğŸ”„ Process New Match</button>
    </section>

  </main>

  <footer>
    ğŸ® BGMI Stat Extractor Â· Free &amp; Open Source Â· <a href="https://github.com/naptha/tesseract.js"
      target="_blank">Tesseract.js OCR</a> Â· Hosted on GitHub Pages
  </footer>

  <div class="toast" id="toast" style="display:none"></div>

  <script src="https://unpkg.com/tesseract.js@4/dist/tesseract.min.js"></script>
  <script src="app.js"></script>
</body>

</html>